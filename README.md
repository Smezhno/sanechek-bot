# Sanechek Bot ü§ñ

Telegram-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—á–∏–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –≤ –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìã **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ, –¥–µ–¥–ª–∞–π–Ω—ã, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- üí∞ **–£—á—ë—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤** ‚Äî —Ñ–∏–∫—Å–∞—Ü–∏—è —Ç—Ä–∞—Ç —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- üìä **–°–∞–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–ø–∏—Å–æ–∫** ‚Äî –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç—á—ë—Ç—ã –ø–æ —á–∞—Ç–∞–º
- üîî **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è** ‚Äî –≥–∏–±–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ
- üëë **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏** ‚Äî —Å–∏—Å—Ç–µ–º–∞ –∞–¥–º–∏–Ω–æ–≤

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
cd sanechek-bot

# –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
.\venv\Scripts\activate  # Windows

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt
```

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cp env.example .env
```

–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- `TELEGRAM_BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω –æ—Ç @BotFather
- `BOT_USERNAME` ‚Äî —é–∑–µ—Ä–Ω–µ–π–º –±–æ—Ç–∞ (–±–µ–∑ @)

–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:
- `OPENAI_API_KEY` ‚Äî –¥–ª—è —É–º–Ω–æ–π —Å–∞–º–º–∞—Ä–∏–∑–∞—Ü–∏–∏ (–±–µ–∑ –Ω–µ–≥–æ –±—É–¥–µ—Ç –ø—Ä–æ—Å—Ç–æ–µ —Å–∞–º–º–∞—Ä–∏)
- `INITIAL_ADMINS` ‚Äî Telegram user ID –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∞–¥–º–∏–Ω–æ–≤

### 3. –ó–∞–ø—É—Å–∫

```bash
python main.py
```

## –ö–æ–º–∞–Ω–¥—ã

### –í –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–∞—Ö

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/task <—Ç–µ–∫—Å—Ç> @–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å <–¥–µ–¥–ª–∞–π–Ω>` | –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É |
| `/tasks` | –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á |
| `/mytasks` | –ú–æ–∏ –∑–∞–¥–∞—á–∏ –≤ —ç—Ç–æ–º —á–∞—Ç–µ |
| `/done` | –ó–∞–∫—Ä—ã—Ç—å –∑–∞–¥–∞—á—É (—Ä–µ–ø–ª–∞–π) |
| `/edit` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á—É (—Ä–µ–ø–ª–∞–π) |
| `/cost <—Å—É–º–º–∞> <–æ–ø–∏—Å–∞–Ω–∏–µ>` | –î–æ–±–∞–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–¥ |
| `/summary` | –°–∞–º–º–∞—Ä–∏ –∑–∞ —Å–µ–≥–æ–¥–Ω—è |
| `/reminders` | –ê–∫—Ç–∏–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è |
| `/admins` | –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤ |
| `@bot –Ω–∞–ø–æ–º–Ω–∏...` | –°–æ–∑–¥–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ |

### –í –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ |
| `/mytasks` | –í—Å–µ –º–æ–∏ –∑–∞–¥–∞—á–∏ |
| `/reminders` | –í—Å–µ –º–æ–∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è |
| `/summary` | –°–∞–º–º–∞—Ä–∏ –ø–æ –ø–æ–¥–ø–∏—Å–∫–∞–º |
| `/subscribe` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ |

### –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/setadmin @user` | –ù–∞–∑–Ω–∞—á–∏—Ç—å –∞–¥–º–∏–Ω–∞ |
| `/removeadmin @user` | –°–Ω—è—Ç—å –∞–¥–º–∏–Ω–∞ |

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

```
/task –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ—Ç—á—ë—Ç @vasya –∑–∞–≤—Ç—Ä–∞
/task –°–æ–∑–≤–æ–Ω–∏—Ç—å—Å—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º @maria –≤ –ø—è—Ç–Ω–∏—Ü—É
/task –ö—É–ø–∏—Ç—å —Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏ @ivan 15.02
```

### –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

```
@sanechek_bot –Ω–∞–ø–æ–º–Ω–∏ –º–Ω–µ —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç –ø–æ–∑–≤–æ–Ω–∏—Ç—å –í–∞–Ω–µ
@sanechek_bot –Ω–∞–ø–æ–º–Ω–∏ @vasya –∑–∞–≤—Ç—Ä–∞ –≤ 15:00 –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á—ë—Ç
@sanechek_bot –Ω–∞–ø–æ–º–Ω–∏ –≤–µ—á–µ—Ä–æ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—á—Ç—É
```

### –†–∞—Å—Ö–æ–¥—ã

```
/cost 5000 —Ç–∞–∫—Å–∏ –¥–æ –æ—Ñ–∏—Å–∞
/cost 15000 —Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏ –¥–ª—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
sanechek-bot/
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ database/            # –ú–æ–¥–µ–ª–∏ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ models.py        # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ connection.py    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SQLite
‚îú‚îÄ‚îÄ handlers/            # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ start.py         # /start, /help, /cancel
‚îÇ   ‚îú‚îÄ‚îÄ tasks.py         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ expenses.py      # –£—á—ë—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ reminders.py     # –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ summary.py       # –°–∞–º–º–∞—Ä–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ admin.py         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞–º–∏
‚îú‚îÄ‚îÄ services/            # –§–æ–Ω–æ–≤—ã–µ —Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ scheduler.py     # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ llm/                 # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LLM
‚îÇ   ‚îî‚îÄ‚îÄ summarizer.py    # –°–∞–º–º–∞—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ OpenAI
‚îî‚îÄ‚îÄ utils/               # –£—Ç–∏–ª–∏—Ç—ã
    ‚îú‚îÄ‚îÄ date_parser.py   # –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º
    ‚îú‚îÄ‚îÄ formatters.py    # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞
    ‚îú‚îÄ‚îÄ permissions.py   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
    ‚îî‚îÄ‚îÄ categories.py    # –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤
```

## –ü–∞—Ä—Å–∏–Ω–≥ –¥–∞—Ç

–ë–æ—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –¥–∞—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ:

| –í–≤–æ–¥ | –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è |
|------|---------------|
| –∑–∞–≤—Ç—Ä–∞ | –°–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å, 00:01 |
| –≤ –ø—è—Ç–Ω–∏—Ü—É | –ë–ª–∏–∂–∞–π—à–∞—è –ø—è—Ç–Ω–∏—Ü–∞, 00:01 |
| 15.01 | 15 —è–Ω–≤–∞—Ä—è, 00:01 |
| —á–µ—Ä–µ–∑ 3 –¥–Ω—è | –°–µ–≥–æ–¥–Ω—è + 3 –¥–Ω—è |
| —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç | –°–µ–π—á–∞—Å + 30 –º–∏–Ω—É—Ç |
| —É—Ç—Ä–æ–º | 09:00 |
| –≤–µ—á–µ—Ä–æ–º | 18:00 |

## –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é:

- üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç (—Ç–∞–∫—Å–∏, –º–µ—Ç—Ä–æ, –±–µ–Ω–∑–∏–Ω)
- üçï –ï–¥–∞ (–æ–±–µ–¥, –∫–æ—Ñ–µ, –¥–æ—Å—Ç–∞–≤–∫–∞)
- üìé –ö–∞–Ω—Ü–µ–ª—è—Ä–∏—è (–±—É–º–∞–≥–∞, —Ä—É—á–∫–∏, —Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏)
- üíª –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ (—Ç–µ—Ö–Ω–∏–∫–∞, –º–µ–±–µ–ª—å)
- üìû –°–≤—è–∑—å (—Ç–µ–ª–µ—Ñ–æ–Ω, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)
- üì¶ –ü—Ä–æ—á–µ–µ

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

- **–ó–∞ 4 —á–∞—Å–∞ –¥–æ –¥–µ–¥–ª–∞–π–Ω–∞** ‚Äî –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—é –≤ –õ–°
- **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 12:00** ‚Äî –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö
- **–ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 12:00** ‚Äî —Å–∞–º–º–∞—Ä–∏ –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.11+
- python-telegram-bot 22.0
- SQLAlchemy 2.0 (async)
- SQLite (aiosqlite)
- OpenAI API (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

